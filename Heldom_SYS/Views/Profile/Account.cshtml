@* stylesheet *@
<link rel="stylesheet" href="~/css/Profile/Account.css" asp-append-version="true" />

@* https://localhost:7142/Profile/Account *@

<div class="main_wrap border-radius box-shadow">
    <div id="work" class="work_main_area obj-horizontal-center">
        <div class="top_area">
            <h4 class="bold">員工帳號管理</h4>
        </div>
        <div class="chose-display">
            <div class="search-row">
                <div class="input_wrap">
                    <p class="color-gray-dark bold p-width">部門</p>
                    <select id="departmentSelect" class="form-select" aria-label="部門選擇">
                        <option value="工務工程部" selected>工務工程部</option>
                        <option value="工務管理部">工務管理部</option>
                        <option value="行政管理部">行政管理部</option>
                    </select>
                </div>

                <div class="input_wrap">
                    <p class="color-gray-dark bold p-width">啟用狀態</p>
                    <select id="statusSelect" class="form-select" aria-label="啟用狀態選擇">
                        <option value="1" selected>啟用中</option>
                        <option value="0">已關閉</option>
                    </select>
                </div>
            </div>

            <div class="search-row">
                <div class="input_wrap">
                    <p class="color-gray-dark bold p-width">員工編號</p>
                    <input maxlength="10" type="text" class="form-control" id="employeeId" name="employeeId">
                </div>

                <div class="input_wrap">
                    <p class="color-gray-dark bold p-width">員工姓名</p>
                    <input maxlength="10" type="text" class="form-control" id="employeeName" name="employeeName">
                </div>

                <div class="buttons">
                    <button id="searchButton" class="search-button obj-center">
                        <p class="bold color-white">查詢</p>
                    </button>
                    <button id="createButton" class="button button_style bold">
                        <p class="bold color-white">新增</p>
                    </button>

                </div>
            </div>
        </div>

        <div class="middle_area">
            <table class="table">
                <thead>
                    <tr id="tableHeader">
                        <th class="tb-title">序號</th>
                        <th class="tb-title">照片</th>
                        <th class="tb-title">員工姓名</th>
                        <th class="tb-title">員工編號</th>
                        <th class="tb-title">聯絡電話</th>
                        <th class="tb-title">部門</th>
                        <th class="tb-title">職稱</th>
                        <th class="tb-title">到職日</th>
                        <th class="tb-title">啟用狀態</th>
                        <th class="tb-title">編輯</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td><img class="employeeImg" src="/員工頭像.jpg" alt="員工頭貼" /></td>
                        <td>員姓名</td>
                        <td>ABC-123456</td>
                        <td>0919-12345</td>
                        <td>管理部</td>
                        <td>現場主管</td>
                        <td>2012/02/01</td>
                        <td><i class="fas fa-check-circle color-green"></i></td>
                        <td><i class="fas fa-edit color-gray-medium"></i></td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td><img class="employeeImg" src="/員工頭像.jpg" alt="員工頭貼" /></td>
                        <td>員姓名</td>
                        <td>ABC-123456</td>
                        <td>0919-12345</td>
                        <td>管理部</td>
                        <td>現場主管</td>
                        <td>2012/02/01</td>
                        <td><i class="fas fa-check-circle color-green"></i></td>
                        <td><i class="fas fa-edit color-gray-medium"></i></td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td><img class="employeeImg" src="/員工頭像.jpg" alt="員工頭貼" /></td>
                        <td>員姓名</td>
                        <td>ABC-123456</td>
                        <td>0919-12345</td>
                        <td>管理部</td>
                        <td>現場主管</td>
                        <td>2012/02/01</td>
                        <td><i class="fas fa-check-circle color-green"></i></td>
                        <td><i class="fas fa-edit color-gray-medium"></i></td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td><img class="employeeImg" src="/員工頭像.jpg" alt="員工頭貼" /></td>
                        <td>員姓名</td>
                        <td>ABC-123456</td>
                        <td>0919-12345</td>
                        <td>管理部</td>
                        <td>現場主管</td>
                        <td>2012/02/01</td>
                        <td><i class="fas fa-check-circle color-green"></i></td>
                        <td><i class="fas fa-edit color-gray-medium"></i></td>
                    </tr>
                    <tr>
                        <td>5</td>
                        <td><img class="employeeImg" src="/員工頭像.jpg" alt="員工頭貼" /></td>
                        <td>員姓名</td>
                        <td>ABC-123456</td>
                        <td>0919-12345</td>
                        <td>管理部</td>
                        <td>現場主管</td>
                        <td>2012/02/01</td>
                        <td><i class="fas fa-check-circle color-green"></i></td>
                        <td><i class="fas fa-edit color-gray-medium"></i></td>
                    </tr>
                    <tr>
                        <td>6</td>
                        <td><img class="employeeImg" src="/員工頭像.jpg" alt="員工頭貼" /></td>
                        <td>員姓名</td>
                        <td>ABC-123456</td>
                        <td>0919-12345</td>
                        <td>管理部</td>
                        <td>現場主管</td>
                        <td>2012/02/01</td>
                        <td><i class="fas fa-check-circle color-green"></i></td>
                        <td><i class="fas fa-edit color-gray-medium"></i></td>
                    </tr>
                    <tr>
                        <td>7</td>
                        <td><img class="employeeImg" src="/員工頭像.jpg" alt="員工頭貼" /></td>
                        <td>員姓名</td>
                        <td>ABC-123456</td>
                        <td>0919-12345</td>
                        <td>管理部</td>
                        <td>現場主管</td>
                        <td>2012/02/01</td>
                        <td><i class="fas fa-exclamation-circle color-gray-light"></i></td>
                        <td><i class="fas fa-edit color-gray-medium"></i></td>
                    </tr>
                    <tr>
                        <td>8</td>
                        <td><img class="employeeImg" src="/員工頭像.jpg" alt="員工頭貼" /></td>
                        <td>員姓名</td>
                        <td>ABC-123456</td>
                        <td>0919-12345</td>
                        <td>管理部</td>
                        <td>現場主管</td>
                        <td>2012/02/01</td>
                        <td><i class="fas fa-exclamation-circle color-gray-light"></i></td>
                        <td><i class="fas fa-edit color-gray-medium"></i></td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="end_area obj-center" id="endArea">
        </div>
    </div>

</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {

        

        addPageButton();

        // 查詢資料按鈕
        document.getElementById("searchButton").addEventListener("click", function(e) {
            // 在這裡新增查詢邏輯
        });

        // 新增員工帳號按鈕
        document.getElementById("createButton").addEventListener("click", function(e) {
            location.href='/Profile/NewAccount?motion=add';
            //location.href='/Project/Issues?type=Unusual&id=123&motion=add'
        });
        
    });

    // dataModel
        const tableData = [
            { id: 1, name: '員姓名', employeeId: 'ABC-123456', phone: '0919-12345', department: '管理部', position: '現場主管', startDate: '2012/02/01', status: true },
            { id: 2, name: '員姓名', employeeId: 'ABC-123456', phone: '0919-12345', department: '管理部', position: '現場主管', startDate: '2012/02/01', status: true },
            { id: 3, name: '員姓名', employeeId: 'ABC-123456', phone: '0919-12345', department: '管理部', position: '現場主管', startDate: '2012/02/01', status: true },
            { id: 4, name: '員姓名', employeeId: 'ABC-123456', phone: '0919-12345', department: '管理部', position: '現場主管', startDate: '2012/02/01', status: true },
            { id: 5, name: '員姓名', employeeId: 'ABC-123456', phone: '0919-12345', department: '管理部', position: '現場主管', startDate: '2012/02/01', status: true },
            { id: 6, name: '員姓名', employeeId: 'ABC-123456', phone: '0919-12345', department: '管理部', position: '現場主管', startDate: '2012/02/01', status: true },
            { id: 7, name: '員姓名', employeeId: 'ABC-123456', phone: '0919-12345', department: '管理部', position: '現場主管', startDate: '2012/02/01', status: true },
            // 繼續新增
        ];

        let testingData = tableData.slice(2,4);
        console.log(testingData);

        // 取 tbody
        const tbody = document.querySelector('.table tbody');

        // 清空
        tbody.innerHTML = '';

        // 動態生成 RowData
        tableData.forEach(row => {
            const tr = document.createElement('tr');

            // 新增 Row
            tr.innerHTML = `
                <td>${row.id}</td>
                <td><img class="employeeImg" src="/員工頭像.jpg" alt="員工頭貼" /></td>
                <td>${row.name}</td>
                <td>${row.employeeId}</td>
                <td>${row.phone}</td>
                <td>${row.department}</td>
                <td>${row.position}</td>
                <td>${row.startDate}</td>
                <td><i class="fas ${row.status ? 'fa-check-circle color-green' : 'fa-exclamation-circle color-gray-light'}"></i></td>
            `;

            tbody.appendChild(tr);
        });

        // 編輯 column顯示
        const hasPermission = true; // 條件
        if (hasPermission) {
            // 取 Row
            const allRows = document.querySelectorAll('.table tbody tr');

            <th class="tb-title">編輯</th>

            let createEditHeader = document.createElement('td');
            createEditHeader.className = tb-title;
            document.getElementById('tableHeader').appendChild(createEditHeader);

            // 新增 Column
            allRows.forEach(row => {
                const operationTd = document.createElement('td');
                operationTd.innerHTML = '<i class="fas fa-edit color-gray-medium"></i>';
                row.appendChild(operationTd);
            });
        }
        
        const addPageButton = () => {
            // 頁次生成
            const endArea = document.getElementById('endArea');

            // 上一頁按鈕
            const lastButton = document.createElement('h4');
            lastButton.innerHTML = '<i class="fas fa-chevron-left txt-center" id="Last"></i>';
            endArea.appendChild(lastButton);

            // 頁碼生成
            for (let i = 0; i < 5; i++) {
                const pageCircle = document.createElement('div');
                pageCircle.className = 'page_circle obj-center';
                pageCircle.id = `page_circle${i + 1}`;

                const pageNumber = document.createElement('p');
                pageNumber.className = 'bold';
                pageNumber.textContent = i + 1;

                pageCircle.appendChild(pageNumber);
                endArea.appendChild(pageCircle);
            }

            // 下一頁按鈕
            const nextButton = document.createElement('h4');
            nextButton.innerHTML = '<i class="fas fa-chevron-right txt-center" id="Next"></i>';
            endArea.appendChild(nextButton);

            // 初始化第一頁圓圈為選中狀態
            document.getElementById("page_circle1").style.backgroundColor = '#D9D9D9';
        }

        // const getAccountData = ()=>{
        //     $ajax({
        //         url:"/Profile/GetAccountData",
        //         type:"GET",
        //         contentType:"application.json",
        //         data:JSON.stringify(),
        //         success:,
        //         error:
        //     })
        // }

</script>